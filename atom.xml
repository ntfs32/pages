<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://gois.top</id>
    <title>Shaddock</title>
    <updated>2019-07-30T09:26:38.215Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://gois.top"/>
    <link rel="self" href="https://gois.top/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://gois.top/images/avatar.png</logo>
    <icon>https://gois.top/favicon.ico</icon>
    <rights>All rights reserved 2019, Shaddock</rights>
    <entry>
        <title type="html"><![CDATA[Postgreså¸¸ç”¨æ“ä½œ]]></title>
        <id>https://gois.top/post/postgres-chang-yong-cao-zuo</id>
        <link href="https://gois.top/post/postgres-chang-yong-cao-zuo">
        </link>
        <updated>2019-07-30T09:24:37.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æŸ¥çœ‹åº“æ‰€æœ‰è¡¨å¤§å°">æŸ¥çœ‹åº“æ‰€æœ‰è¡¨å¤§å°</h2>
<pre><code class="language-sql">--æ•°æ®åº“ä¸­å•ä¸ªè¡¨çš„å¤§å°ï¼ˆä¸åŒ…å«ç´¢å¼•ï¼‰
select pg_size_pretty(pg_relation_size('è¡¨å'));

--æŸ¥å‡ºæ‰€æœ‰è¡¨ï¼ˆåŒ…å«ç´¢å¼•ï¼‰å¹¶æ’åº
SELECT table_schema || '.' || table_name AS table_full_name, pg_size_pretty(pg_total_relation_size('&quot;' || table_schema || '&quot;.&quot;' || table_name || '&quot;')) AS size
FROM information_schema.tables
ORDER BY
pg_total_relation_size('&quot;' || table_schema || '&quot;.&quot;' || table_name || '&quot;') DESC limit 20

--æŸ¥å‡ºè¡¨å¤§å°æŒ‰å¤§å°æ’åºå¹¶åˆ†ç¦»dataä¸index
SELECT
table_name,
pg_size_pretty(table_size) AS table_size,
pg_size_pretty(indexes_size) AS indexes_size,
pg_size_pretty(total_size) AS total_size
FROM (
SELECT
table_name,
pg_table_size(table_name) AS table_size,
pg_indexes_size(table_name) AS indexes_size,
pg_total_relation_size(table_name) AS total_size
FROM (
SELECT ('&quot;' || table_schema || '&quot;.&quot;' || table_name || '&quot;') AS table_name
FROM information_schema.tables
) AS all_tables
ORDER BY total_size DESC
) AS pretty_sizes
</code></pre>
<h2 id="è®¾ç½®å…³é—­postgresé»˜è®¤çš„åˆ†é¡µæŸ¥è¯¢">è®¾ç½®å…³é—­postgresé»˜è®¤çš„åˆ†é¡µæŸ¥è¯¢</h2>
<pre><code>\set pager off
</code></pre>
<h2 id="å”¯ä¸€keyé‡å¤æ•°æ®æŸ¥è¯¢">å”¯ä¸€keyé‡å¤æ•°æ®æŸ¥è¯¢</h2>
<pre><code>select * from health_report where exists(select null from (select client_id,ukey from health_report group by client_id,ukey having count(*) &gt; 1)tbl_temp where (tbl_temp.client_id=health_report.client_id and tbl_temp.ukey=health_report.ukey) or (tbl_temp.client_id is null and health_report.client_id is null) or (tbl_temp.ukey is null and health_report.ukey is null)) ;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://gois.top/post/hello-gridea</id>
        <link href="https://gois.top/post/hello-gridea">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></content>
    </entry>
</feed>